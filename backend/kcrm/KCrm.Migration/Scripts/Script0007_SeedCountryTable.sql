declare @countryJson NVARCHAR(MAX) = '[{"name":"Afghanistan","iso":"AF","cc":"004"},
{"name":"Åland Islands","iso":"AX","cc":"248"},{"name":"Albania","iso":"AL","cc":"008"},{"name":"Algeria","iso":"DZ","cc":"012"},{"name":"American Samoa","iso":"AS","cc":"016"},{"name":"Andorra","iso":"AD","cc":"020"},{"name":"Angola","iso":"AO","cc":"024"},{"name":"Anguilla","iso":"AI","cc":"660"},{"name":"Antarctica","iso":"AQ","cc":"010"},{"name":"Antigua and Barbuda","iso":"AG","cc":"028"},{"name":"Argentina","iso":"AR","cc":"032"},{"name":"Armenia","iso":"AM","cc":"051"},{"name":"Aruba","iso":"AW","cc":"533"},{"name":"Australia","iso":"AU","cc":"036"},{"name":"Austria","iso":"AT","cc":"040"},{"name":"Azerbaijan","iso":"AZ","cc":"031"},{"name":"Bahamas","iso":"BS","cc":"044"},{"name":"Bahrain","iso":"BH","cc":"048"},{"name":"Bangladesh","iso":"BD","cc":"050"},{"name":"Barbados","iso":"BB","cc":"052"},{"name":"Belarus","iso":"BY","cc":"112"},{"name":"Belgium","iso":"BE","cc":"056"},{"name":"Belize","iso":"BZ","cc":"084"},{"name":"Benin","iso":"BJ","cc":"204"},{"name":"Bermuda","iso":"BM","cc":"060"},{"name":"Bhutan","iso":"BT","cc":"064"},{"name":"Bolivia (Plurinational State of)","iso":"BO","cc":"068"},{"name":"Bonaire, Sint Eustatius and Saba","iso":"BQ","cc":"535"},{"name":"Bosnia and Herzegovina","iso":"BA","cc":"070"},{"name":"Botswana","iso":"BW","cc":"072"},{"name":"Bouvet Island","iso":"BV","cc":"074"},{"name":"Brazil","iso":"BR","cc":"076"},{"name":"British Indian Ocean Territory","iso":"IO","cc":"086"},{"name":"Brunei Darussalam","iso":"BN","cc":"096"},{"name":"Bulgaria","iso":"BG","cc":"100"},{"name":"Burkina Faso","iso":"BF","cc":"854"},{"name":"Burundi","iso":"BI","cc":"108"},{"name":"Cabo Verde","iso":"CV","cc":"132"},{"name":"Cambodia","iso":"KH","cc":"116"},{"name":"Cameroon","iso":"CM","cc":"120"},{"name":"Canada","iso":"CA","cc":"124"},{"name":"Cayman Islands","iso":"KY","cc":"136"},{"name":"Central African Republic","iso":"CF","cc":"140"},{"name":"Chad","iso":"TD","cc":"148"},{"name":"Chile","iso":"CL","cc":"152"},{"name":"China","iso":"CN","cc":"156"},{"name":"Christmas Island","iso":"CX","cc":"162"},{"name":"Cocos (Keeling) Islands","iso":"CC","cc":"166"},{"name":"Colombia","iso":"CO","cc":"170"},{"name":"Comoros","iso":"KM","cc":"174"},{"name":"Congo","iso":"CG","cc":"178"},{"name":"Congo, Democratic Republic of the","iso":"CD","cc":"180"},{"name":"Cook Islands","iso":"CK","cc":"184"},{"name":"Costa Rica","iso":"CR","cc":"188"},{"name":"Côte d''Ivoire","iso":"CI","cc":"384"},{"name":"Croatia","iso":"HR","cc":"191"},{"name":"Cuba","iso":"CU","cc":"192"},{"name":"Curaçao","iso":"CW","cc":"531"},{"name":"Cyprus","iso":"CY","cc":"196"},{"name":"Czechia","iso":"CZ","cc":"203"},{"name":"Denmark","iso":"DK","cc":"208"},{"name":"Djibouti","iso":"DJ","cc":"262"},{"name":"Dominica","iso":"DM","cc":"212"},{"name":"Dominican Republic","iso":"DO","cc":"214"},{"name":"Ecuador","iso":"EC","cc":"218"},{"name":"Egypt","iso":"EG","cc":"818"},{"name":"El Salvador","iso":"SV","cc":"222"},{"name":"Equatorial Guinea","iso":"GQ","cc":"226"},{"name":"Eritrea","iso":"ER","cc":"232"},{"name":"Estonia","iso":"EE","cc":"233"},{"name":"Eswatini","iso":"SZ","cc":"748"},{"name":"Ethiopia","iso":"ET","cc":"231"},{"name":"Falkland Islands (Malvinas)","iso":"FK","cc":"238"},{"name":"Faroe Islands","iso":"FO","cc":"234"},{"name":"Fiji","iso":"FJ","cc":"242"},{"name":"Finland","iso":"FI","cc":"246"},{"name":"France","iso":"FR","cc":"250"},{"name":"French Guiana","iso":"GF","cc":"254"},{"name":"French Polynesia","iso":"PF","cc":"258"},{"name":"French Southern Territories","iso":"TF","cc":"260"},{"name":"Gabon","iso":"GA","cc":"266"},{"name":"Gambia","iso":"GM","cc":"270"},{"name":"Georgia","iso":"GE","cc":"268"},{"name":"Germany","iso":"DE","cc":"276"},{"name":"Ghana","iso":"GH","cc":"288"},{"name":"Gibraltar","iso":"GI","cc":"292"},{"name":"Greece","iso":"GR","cc":"300"},{"name":"Greenland","iso":"GL","cc":"304"},{"name":"Grenada","iso":"GD","cc":"308"},{"name":"Guadeloupe","iso":"GP","cc":"312"},{"name":"Guam","iso":"GU","cc":"316"},{"name":"Guatemala","iso":"GT","cc":"320"},{"name":"Guernsey","iso":"GG","cc":"831"},{"name":"Guinea","iso":"GN","cc":"324"},{"name":"Guinea-Bissau","iso":"GW","cc":"624"},{"name":"Guyana","iso":"GY","cc":"328"},{"name":"Haiti","iso":"HT","cc":"332"},{"name":"Heard Island and McDonald Islands","iso":"HM","cc":"334"},{"name":"Holy See","iso":"VA","cc":"336"},{"name":"Honduras","iso":"HN","cc":"340"},{"name":"Hong Kong","iso":"HK","cc":"344"},{"name":"Hungary","iso":"HU","cc":"348"},{"name":"Iceland","iso":"IS","cc":"352"},{"name":"India","iso":"IN","cc":"356"},{"name":"Indonesia","iso":"ID","cc":"360"},{"name":"Iran (Islamic Republic of)","iso":"IR","cc":"364"},{"name":"Iraq","iso":"IQ","cc":"368"},{"name":"Ireland","iso":"IE","cc":"372"},{"name":"Isle of Man","iso":"IM","cc":"833"},{"name":"Israel","iso":"IL","cc":"376"},{"name":"Italy","iso":"IT","cc":"380"},{"name":"Jamaica","iso":"JM","cc":"388"},{"name":"Japan","iso":"JP","cc":"392"},{"name":"Jersey","iso":"JE","cc":"832"},{"name":"Jordan","iso":"JO","cc":"400"},{"name":"Kazakhstan","iso":"KZ","cc":"398"},{"name":"Kenya","iso":"KE","cc":"404"},{"name":"Kiribati","iso":"KI","cc":"296"},{"name":"Korea (Democratic People''s Republic of)","iso":"KP","cc":"408"},{"name":"Korea, Republic of","iso":"KR","cc":"410"},{"name":"Kuwait","iso":"KW","cc":"414"},{"name":"Kyrgyzstan","iso":"KG","cc":"417"},{"name":"Lao People''s Democratic Republic","iso":"LA","cc":"418"},{"name":"Latvia","iso":"LV","cc":"428"},{"name":"Lebanon","iso":"LB","cc":"422"},{"name":"Lesotho","iso":"LS","cc":"426"},{"name":"Liberia","iso":"LR","cc":"430"},{"name":"Libya","iso":"LY","cc":"434"},{"name":"Liechtenstein","iso":"LI","cc":"438"},{"name":"Lithuania","iso":"LT","cc":"440"},{"name":"Luxembourg","iso":"LU","cc":"442"},{"name":"Macao","iso":"MO","cc":"446"},{"name":"Madagascar","iso":"MG","cc":"450"},{"name":"Malawi","iso":"MW","cc":"454"},{"name":"Malaysia","iso":"MY","cc":"458"},{"name":"Maldives","iso":"MV","cc":"462"},{"name":"Mali","iso":"ML","cc":"466"},{"name":"Malta","iso":"MT","cc":"470"},{"name":"Marshall Islands","iso":"MH","cc":"584"},{"name":"Martinique","iso":"MQ","cc":"474"},{"name":"Mauritania","iso":"MR","cc":"478"},{"name":"Mauritius","iso":"MU","cc":"480"},{"name":"Mayotte","iso":"YT","cc":"175"},{"name":"Mexico","iso":"MX","cc":"484"},{"name":"Micronesia (Federated States of)","iso":"FM","cc":"583"},{"name":"Moldova, Republic of","iso":"MD","cc":"498"},{"name":"Monaco","iso":"MC","cc":"492"},{"name":"Mongolia","iso":"MN","cc":"496"},{"name":"Montenegro","iso":"ME","cc":"499"},{"name":"Montserrat","iso":"MS","cc":"500"},{"name":"Morocco","iso":"MA","cc":"504"},{"name":"Mozambique","iso":"MZ","cc":"508"},{"name":"Myanmar","iso":"MM","cc":"104"},{"name":"Namibia","iso":"NA","cc":"516"},{"name":"Nauru","iso":"NR","cc":"520"},{"name":"Nepal","iso":"NP","cc":"524"},{"name":"Netherlands","iso":"NL","cc":"528"},{"name":"New Caledonia","iso":"NC","cc":"540"},{"name":"New Zealand","iso":"NZ","cc":"554"},{"name":"Nicaragua","iso":"NI","cc":"558"},{"name":"Niger","iso":"NE","cc":"562"},{"name":"Nigeria","iso":"NG","cc":"566"},{"name":"Niue","iso":"NU","cc":"570"},{"name":"Norfolk Island","iso":"NF","cc":"574"},{"name":"North Macedonia","iso":"MK","cc":"807"},{"name":"Northern Mariana Islands","iso":"MP","cc":"580"},{"name":"Norway","iso":"NO","cc":"578"},{"name":"Oman","iso":"OM","cc":"512"},{"name":"Pakistan","iso":"PK","cc":"586"},{"name":"Palau","iso":"PW","cc":"585"},{"name":"Palestine, State of","iso":"PS","cc":"275"}
,{"name":"Panama","iso":"PA","cc":"591"},{"name":"Papua New Guinea","iso":"PG","cc":"598"},{"name":"Paraguay","iso":"PY","cc":"600"},{"name":"Peru","iso":"PE","cc":"604"},{"name":"Philippines","iso":"PH","cc":"608"},{"name":"Pitcairn","iso":"PN","cc":"612"},{"name":"Poland","iso":"PL","cc":"616"},{"name":"Portugal","iso":"PT","cc":"620"},{"name":"Puerto Rico","iso":"PR","cc":"630"},{"name":"Qatar","iso":"QA","cc":"634"},{"name":"Réunion","iso":"RE","cc":"638"},{"name":"Romania","iso":"RO","cc":"642"},{"name":"Russian Federation","iso":"RU","cc":"643"},{"name":"Rwanda","iso":"RW","cc":"646"},{"name":"Saint Barthélemy","iso":"BL","cc":"652"},{"name":"Saint Helena, Ascension and Tristan da Cunha","iso":"SH","cc":"654"},{"name":"Saint Kitts and Nevis","iso":"KN","cc":"659"},{"name":"Saint Lucia","iso":"LC","cc":"662"},{"name":"Saint Martin (French part)","iso":"MF","cc":"663"},{"name":"Saint Pierre and Miquelon","iso":"PM","cc":"666"},{"name":"Saint Vincent and the Grenadines","iso":"VC","cc":"670"},{"name":"Samoa","iso":"WS","cc":"882"},{"name":"San Marino","iso":"SM","cc":"674"},{"name":"Sao Tome and Principe","iso":"ST","cc":"678"},{"name":"Saudi Arabia","iso":"SA","cc":"682"},{"name":"Senegal","iso":"SN","cc":"686"},{"name":"Serbia","iso":"RS","cc":"688"},{"name":"Seychelles","iso":"SC","cc":"690"},{"name":"Sierra Leone","iso":"SL","cc":"694"},{"name":"Singapore","iso":"SG","cc":"702"},{"name":"Sint Maarten (Dutch part)","iso":"SX","cc":"534"},{"name":"Slovakia","iso":"SK","cc":"703"},{"name":"Slovenia","iso":"SI","cc":"705"},{"name":"Solomon Islands","iso":"SB","cc":"090"},{"name":"Somalia","iso":"SO","cc":"706"},{"name":"South Africa","iso":"ZA","cc":"710"},{"name":"South Georgia and the South Sandwich Islands","iso":"GS","cc":"239"},{"name":"South Sudan","iso":"SS","cc":"728"},{"name":"Spain","iso":"ES","cc":"724"},{"name":"Sri Lanka","iso":"LK","cc":"144"},{"name":"Sudan","iso":"SD","cc":"729"},{"name":"Suriname","iso":"SR","cc":"740"},{"name":"Svalbard and Jan Mayen","iso":"SJ","cc":"744"},{"name":"Sweden","iso":"SE","cc":"752"},{"name":"Switzerland","iso":"CH","cc":"756"},{"name":"Syrian Arab Republic","iso":"SY","cc":"760"},{"name":"Taiwan, Province of China","iso":"TW","cc":"158"},{"name":"Tajikistan","iso":"TJ","cc":"762"},{"name":"Tanzania, United Republic of","iso":"TZ","cc":"834"},{"name":"Thailand","iso":"TH","cc":"764"},{"name":"Timor-Leste","iso":"TL","cc":"626"},{"name":"Togo","iso":"TG","cc":"768"},{"name":"Tokelau","iso":"TK","cc":"772"},{"name":"Tonga","iso":"TO","cc":"776"},{"name":"Trinidad and Tobago","iso":"TT","cc":"780"},{"name":"Tunisia","iso":"TN","cc":"788"},{"name":"Turkey","iso":"TR","cc":"792"},{"name":"Turkmenistan","iso":"TM","cc":"795"},{"name":"Turks and Caicos Islands","iso":"TC","cc":"796"},{"name":"Tuvalu","iso":"TV","cc":"798"},{"name":"Uganda","iso":"UG","cc":"800"},{"name":"Ukraine","iso":"UA","cc":"804"},{"name":"United Arab Emirates","iso":"AE","cc":"784"},{"name":"United Kingdom of Great Britain and Northern Ireland","iso":"GB","cc":"826"},{"name":"United States of America","iso":"US","cc":"840"},{"name":"United States Minor Outlying Islands","iso":"UM","cc":"581"},{"name":"Uruguay","iso":"UY","cc":"858"},{"name":"Uzbekistan","iso":"UZ","cc":"860"},{"name":"Vanuatu","iso":"VU","cc":"548"},{"name":"Venezuela (Bolivarian Republic of)","iso":"VE","cc":"862"},{"name":"Viet Nam","iso":"VN","cc":"704"},{"name":"Virgin Islands (British)","iso":"VG","cc":"092"},{"name":"Virgin Islands (U.S.)","iso":"VI","cc":"850"},{"name":"Wallis and Futuna","iso":"WF","cc":"876"},{"name":"Western Sahara","iso":"EH","cc":"732"},{"name":"Yemen","iso":"YE","cc":"887"},{"name":"Zambia","iso":"ZM","cc":"894"},{"name":"Zimbabwe","iso":"ZW","cc":"716"}]';



insert into dbo.Country ([Id], [Name], [Code], [Iso2])
select newid(), cj.name, cj.code, cj.iso2 from openjson(@countryJson) with  (code NVARCHAR(5) '$.cc', name NVARCHAR(200) '$.name', iso2 NVARCHAR(2) '$.iso') cj
where not exists (select id from dbo.Country C where C.code = cj.code)